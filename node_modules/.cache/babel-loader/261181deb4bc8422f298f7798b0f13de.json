{"ast":null,"code":"import _slicedToArray from\"/home/abdel/Desktop/parking-reservation-front-react/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useState,useEffect}from'react';import Button from'@material-ui/core/Button';import{makeStyles}from'@material-ui/core/styles';import Calendar from'react-calendar';import'react-calendar/dist/Calendar.css';import SlotTime from'./SlotTime';import{saveSeatReservation}from\"../actions/reservationActions\";import{useStore}from\"react-redux\";import{useHistory}from\"react-router-dom\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var useStyles=makeStyles(function(theme){return{root:{fontSize:20,fontWeight:'bold',color:'red'}};});var Calendar1=function Calendar1(_ref){var seat=_ref.seat;var store=useStore();var history=useHistory();var _useState=useState(new Date()),_useState2=_slicedToArray(_useState,2),dateValue=_useState2[0],setDateValue=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),dateSelected=_useState4[0],setDateSelected=_useState4[1];var _useState5=useState(false),_useState6=_slicedToArray(_useState5,2),timeSelected=_useState6[0],setTimeSelected=_useState6[1];var _useState7=useState(0),_useState8=_slicedToArray(_useState7,2),timeValue=_useState8[0],setTimeValue=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),dataCompleted=_useState10[0],setDataCompleted=_useState10[1];var classes=useStyles();function onDateSelcted(e){setDateValue(new Date(e));setDateSelected(true);}var backToCalendar=function backToCalendar(){setDateSelected(false);setTimeSelected(false);setDataCompleted(false);};var showDetails=function showDetails(){setDataCompleted(true);};var book=function book(){var seatReservation={seat:seat,time:timeValue,reservation_date:\"\".concat(dateValue.getFullYear(),\"-\").concat(dateValue.getMonth()+1,\"-\").concat(dateValue.getDate())};store.dispatch(saveSeatReservation(seatReservation,history));};return/*#__PURE__*/_jsxs(\"div\",{children:[dateSelected?!dataCompleted?/*#__PURE__*/_jsxs(\"div\",{style:{margin:'0 auto'},children:[/*#__PURE__*/_jsx(\"p\",{className:classes.root,children:\"Pick a time\"}),/*#__PURE__*/_jsx(SlotTime,{setTimeSelected:setTimeSelected,setTimeValue:setTimeValue,seat:seat,dateValue:dateValue})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:classes.root,children:\"Details\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"You have choosen to book for :\"}),/*#__PURE__*/_jsx(\"h3\",{children:\"\".concat(dateValue.getDate(),\"-\").concat(dateValue.getMonth()+1,\"-\").concat(dateValue.getFullYear())}),/*#__PURE__*/_jsx(\"h3\",{children:getTime(timeValue)})]}):/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"p\",{className:classes.root,children:\"Pick a date\"}),/*#__PURE__*/_jsx(Calendar,{onChange:function onChange(e){return onDateSelcted(e);},value:dateValue,minDate:new Date(Date.now())})]}),/*#__PURE__*/_jsxs(\"div\",{style:{display:\"flex\",marginTop:15},children:[dateSelected&&/*#__PURE__*/_jsx(Button,{onClick:backToCalendar,variant:\"contained\",color:\"primary\",disableElevation:true,style:{marginLeft:10,marginRight:80,background:'black'},children:\"Back\"}),timeSelected&&(dataCompleted?/*#__PURE__*/_jsx(Button,{onClick:book,variant:\"contained\",color:\"primary\",disableElevation:true,style:{marginLeft:10,marginButtom:20,background:'green'},children:\"Confirm\"}):/*#__PURE__*/_jsx(Button,{onClick:showDetails,variant:\"contained\",color:\"primary\",disableElevation:true,style:{marginLeft:10,marginButtom:20,background:'green'},children:\"Book\"}))]})]});};export default Calendar1;var getTime=function getTime(index){switch(index){case 1:return\"from 8h to 10h\";case 2:return\"from 10h to 12h\";case 3:return\"from 14h to 16h\";case 4:return\"from 16h to 18h\";default:return\"\";}};","map":{"version":3,"sources":["/home/abdel/Desktop/parking-reservation-front-react/src/components/Calendar.js"],"names":["React","useState","useEffect","Button","makeStyles","Calendar","SlotTime","saveSeatReservation","useStore","useHistory","useStyles","theme","root","fontSize","fontWeight","color","Calendar1","seat","store","history","Date","dateValue","setDateValue","dateSelected","setDateSelected","timeSelected","setTimeSelected","timeValue","setTimeValue","dataCompleted","setDataCompleted","classes","onDateSelcted","e","backToCalendar","showDetails","book","seatReservation","time","reservation_date","getFullYear","getMonth","getDate","dispatch","margin","getTime","now","display","marginTop","marginLeft","marginRight","background","marginButtom","index"],"mappings":"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","sourcesContent":["import React, { useState,useEffect } from 'react';\nimport Button from '@material-ui/core/Button';\nimport { makeStyles } from '@material-ui/core/styles';\nimport Calendar from 'react-calendar';\nimport 'react-calendar/dist/Calendar.css';\nimport SlotTime from './SlotTime';\nimport { saveSeatReservation } from \"../actions/reservationActions\";\nimport {useStore} from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\n\n\nconst useStyles = makeStyles((theme) => ({\n  root: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color:'red',\n  },\n}));\n\nconst Calendar1=({seat})=>{\n  const store =useStore();\n  const history = useHistory();\n  const [dateValue, setDateValue] = useState(new Date());\n  const [dateSelected, setDateSelected] = useState(false);\n  const [timeSelected,setTimeSelected]=useState(false);\n  const [timeValue,setTimeValue]=useState(0);\n\n  const [dataCompleted,setDataCompleted]=useState(false);\n\n  const classes=useStyles();\n  function onDateSelcted(e){\n    setDateValue(new Date(e));\n    setDateSelected(true);\n  }\n  const backToCalendar=()=>{\n    setDateSelected(false);\n    setTimeSelected(false);\n    setDataCompleted(false);\n\n  }\n  const showDetails=()=>{\n    setDataCompleted(true);\n  }\n  const book=()=>{\n    const seatReservation ={\n      seat:seat,\n      time:timeValue,\n      reservation_date:`${dateValue.getFullYear()}-${dateValue.getMonth()+1}-${dateValue.getDate()}`\n    }\n    store.dispatch(saveSeatReservation(seatReservation,history));\n\n  }\n  \n  return (\n   <div >\n     {\n      dateSelected ? (\n        !dataCompleted?\n          (\n          <div style={{ margin:'0 auto'}}> \n            <p className={classes.root}>Pick a time</p>\n            <SlotTime  setTimeSelected={setTimeSelected} setTimeValue={setTimeValue} seat={seat} dateValue={dateValue}/>\n          </div>\n          ):\n          (<>\n          <p className={classes.root}>Details</p>\n          <h3>You have choosen to book for :</h3>\n          <h3>{`${dateValue.getDate()}-${dateValue.getMonth()+1}-${dateValue.getFullYear()}`}</h3>\n          <h3>{getTime(timeValue)}</h3>\n          </>\n          )\n      ):\n      (<>\n        <p className={classes.root}>Pick a date</p>\n        <Calendar\n          onChange={(e)=>onDateSelcted(e)}\n          value={dateValue}\n          minDate={new Date((Date.now()))}\n        />\n      </>\n      )}\n      <div style={{display:\"flex\",marginTop:15}}>\n          {dateSelected && <Button onClick={backToCalendar}\n          variant=\"contained\" \n          color=\"primary\" \n          disableElevation \n          style={{marginLeft:10,marginRight:80,background:'black'}}\n          >\n          Back</Button> \n          }\n          {timeSelected&& \n          (\n          dataCompleted? \n          <Button \n            onClick={book}\n            variant=\"contained\" \n            color=\"primary\" \n            disableElevation \n            style={{marginLeft:10,marginButtom:20,background:'green'}}>Confirm\n          </Button> :\n          <Button \n            onClick={showDetails}\n            variant=\"contained\" \n            color=\"primary\" \n            disableElevation \n            style={{marginLeft:10,marginButtom:20,background:'green'}}>Book\n          </Button> \n          )}\n        </div>\n    </div>\n  );\n}\nexport default Calendar1;\n\nconst getTime=(index)=>{\n  switch(index){\n    case 1:return \"from 8h to 10h\" ;\n    case 2:return \"from 10h to 12h\" ;\n    case 3 :return \"from 14h to 16h\" ;\n    case 4:return \"from 16h to 18h\" ;\n    default:return \"\";\n  }\n\n\n\n}"]},"metadata":{},"sourceType":"module"}