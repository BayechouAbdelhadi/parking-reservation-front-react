{"ast":null,"code":"import axios from \"axios\";\nimport { GET_ERRORS, SET_TODAY_RESERVATION } from \"./types\";\nimport authHeader from \"../securityUtils/authorisationHeader\";\nexport const saveSeatReservation = (reservation, history) => async dispatch => {\n  // post => Login Request\n  await axios({\n    url: '/api/seats',\n    method: 'post',\n    Authorisation: authHeader,\n    data: reservation\n  }).then(res => {\n    history.push('/profile');\n  }).catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    });\n  });\n};\nexport const findTodayReservation = seat => async dispatch => {\n  await axios.get(`/api/seats/${seat}`, {\n    \"Authorisation\": authHeader\n  }).then(response => {\n    const reservations = response.data;\n    dispatch({\n      type: SET_TODAY_RESERVATION,\n      payload: reservations\n    });\n  }).catch(error => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response.data\n    });\n  });\n};","map":{"version":3,"sources":["/home/abdel/Desktop/parking-reservation-front-react/src/actions/reservationActions.js"],"names":["axios","GET_ERRORS","SET_TODAY_RESERVATION","authHeader","saveSeatReservation","reservation","history","dispatch","url","method","Authorisation","data","then","res","push","catch","err","type","payload","response","findTodayReservation","seat","get","reservations","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,qBAArB,QAAiD,SAAjD;AACA,OAAOC,UAAP,MAAuB,sCAAvB;AAEA,OAAO,MAAMC,mBAAmB,GAAG,CAACC,WAAD,EAAaC,OAAb,KAAyB,MAAMC,QAAN,IAAkB;AAC1E;AACA,QAAMP,KAAK,CACX;AACEQ,IAAAA,GAAG,EAAC,YADN;AAEEC,IAAAA,MAAM,EAAC,MAFT;AAGEC,IAAAA,aAAa,EAACP,UAHhB;AAIEQ,IAAAA,IAAI,EAAEN;AAJR,GADW,CAAL,CAOJO,IAPI,CAOCC,GAAG,IAAE;AACVP,IAAAA,OAAO,CAACQ,IAAR,CAAa,UAAb;AACD,GATK,EAULC,KAVK,CAUCC,GAAG,IACV;AACET,IAAAA,QAAQ,CACN;AACEU,MAAAA,IAAI,EAAEhB,UADR;AAEEiB,MAAAA,OAAO,EAAEF,GAAG,CAACG,QAAJ,CAAaR;AAFxB,KADM,CAAR;AAMD,GAlBK,CAAN;AAmBH,CArBM;AAsBP,OAAO,MAAMS,oBAAoB,GAAIC,IAAD,IAAU,MAAMd,QAAN,IAAkB;AAC3D,QAAMP,KAAK,CAACsB,GAAN,CAAW,cAAaD,IAAK,EAA7B,EAA+B;AAAC,qBAAgBlB;AAAjB,GAA/B,EACNS,IADM,CACDO,QAAQ,IAAE;AACd,UAAMI,YAAY,GAAGJ,QAAQ,CAACR,IAA9B;AACAJ,IAAAA,QAAQ,CAAC;AACTU,MAAAA,IAAI,EAACf,qBADI;AAETgB,MAAAA,OAAO,EAAEK;AAFA,KAAD,CAAR;AAID,GAPM,EAQNR,KARM,CAQAS,KAAK,IAAE;AACZjB,IAAAA,QAAQ,CACN;AACEU,MAAAA,IAAI,EAAEhB,UADR;AAEEiB,MAAAA,OAAO,EAAEM,KAAK,CAACL,QAAN,CAAeR;AAF1B,KADM,CAAR;AAKD,GAdM,CAAN;AAgBF,CAjBI","sourcesContent":["import axios from \"axios\";\nimport { GET_ERRORS ,SET_TODAY_RESERVATION} from \"./types\";\nimport authHeader from \"../securityUtils/authorisationHeader\"\n\nexport const saveSeatReservation = (reservation,history) => async dispatch => {\n    // post => Login Request\n    await axios(\n    {\n      url:'/api/seats',\n      method:'post',\n      Authorisation:authHeader,\n      data: reservation\n    }\n    ).then(res=>{\n      history.push('/profile');\n    })\n    .catch(err=>\n    {\n      dispatch(\n        {\n          type: GET_ERRORS,\n          payload: err.response.data\n        });\n      \n    });\n}\nexport const findTodayReservation = (seat) => async dispatch => {\n     await axios.get(`/api/seats/${seat}`,{\"Authorisation\":authHeader})\n    .then(response=>{\n      const reservations = response.data;\n      dispatch({\n      type:SET_TODAY_RESERVATION ,\n      payload: reservations \n      })\n    })\n    .catch(error=>{\n      dispatch(\n        {\n          type: GET_ERRORS,\n          payload: error.response.data\n        });\n    });\n    \n  }\n"]},"metadata":{},"sourceType":"module"}