{"ast":null,"code":"import axios from \"axios\";\nimport { GET_ERRORS, SET_TODAY_RESERVATION } from \"./types\";\nimport authHeader from \"../securityUtils/authorisationHeader\";\nimport { useHistory } from \"react-router-dom\";\nexport const saveSeatReservation = reservation => async dispatch => {\n  // post => Login Request\n  await axios({\n    url: '/api/seats',\n    method: 'post',\n    Authorisation: authHeader,\n    data: reservation\n  }).catch(err => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: err.response.data\n    });\n  });\n};\nexport const findTodayReservation = seat => async dispatch => {\n  await axios.get(`/api/seats/${seat}`, {\n    \"Authorisation\": authHeader\n  }).then(response => {\n    const reservations = response.data;\n    dispatch({\n      type: SET_TODAY_RESERVATION,\n      payload: reservations\n    });\n  }).catch(error => {\n    dispatch({\n      type: GET_ERRORS,\n      payload: error.response.data\n    });\n  });\n};","map":{"version":3,"sources":["/home/abdel/Desktop/parking-reservation-front-react/src/actions/reservationActions.js"],"names":["axios","GET_ERRORS","SET_TODAY_RESERVATION","authHeader","useHistory","saveSeatReservation","reservation","dispatch","url","method","Authorisation","data","catch","err","type","payload","response","findTodayReservation","seat","get","then","reservations","error"],"mappings":"AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,SAASC,UAAT,EAAqBC,qBAArB,QAAiD,SAAjD;AACA,OAAOC,UAAP,MAAuB,sCAAvB;AACA,SAASC,UAAT,QAA2B,kBAA3B;AAEA,OAAO,MAAMC,mBAAmB,GAAGC,WAAW,IAAI,MAAMC,QAAN,IAAkB;AAChE;AACA,QAAMP,KAAK,CACX;AACEQ,IAAAA,GAAG,EAAC,YADN;AAEEC,IAAAA,MAAM,EAAC,MAFT;AAGEC,IAAAA,aAAa,EAACP,UAHhB;AAIEQ,IAAAA,IAAI,EAAEL;AAJR,GADW,CAAL,CAOJM,KAPI,CAOEC,GAAG,IACX;AACEN,IAAAA,QAAQ,CACN;AACEO,MAAAA,IAAI,EAAEb,UADR;AAEEc,MAAAA,OAAO,EAAEF,GAAG,CAACG,QAAJ,CAAaL;AAFxB,KADM,CAAR;AAMD,GAfK,CAAN;AAgBH,CAlBM;AAmBP,OAAO,MAAMM,oBAAoB,GAAIC,IAAD,IAAU,MAAMX,QAAN,IAAkB;AAC3D,QAAMP,KAAK,CAACmB,GAAN,CAAW,cAAaD,IAAK,EAA7B,EAA+B;AAAC,qBAAgBf;AAAjB,GAA/B,EACNiB,IADM,CACDJ,QAAQ,IAAE;AACd,UAAMK,YAAY,GAAGL,QAAQ,CAACL,IAA9B;AACAJ,IAAAA,QAAQ,CAAC;AACTO,MAAAA,IAAI,EAACZ,qBADI;AAETa,MAAAA,OAAO,EAAEM;AAFA,KAAD,CAAR;AAID,GAPM,EAQNT,KARM,CAQAU,KAAK,IAAE;AACZf,IAAAA,QAAQ,CACN;AACEO,MAAAA,IAAI,EAAEb,UADR;AAEEc,MAAAA,OAAO,EAAEO,KAAK,CAACN,QAAN,CAAeL;AAF1B,KADM,CAAR;AAKD,GAdM,CAAN;AAgBF,CAjBI","sourcesContent":["import axios from \"axios\";\nimport { GET_ERRORS ,SET_TODAY_RESERVATION} from \"./types\";\nimport authHeader from \"../securityUtils/authorisationHeader\"\nimport { useHistory } from \"react-router-dom\";\n\nexport const saveSeatReservation = reservation => async dispatch => {\n    // post => Login Request\n    await axios(\n    {\n      url:'/api/seats',\n      method:'post',\n      Authorisation:authHeader,\n      data: reservation\n    }\n    ).catch(err=>\n    {\n      dispatch(\n        {\n          type: GET_ERRORS,\n          payload: err.response.data\n        });\n      \n    });\n}\nexport const findTodayReservation = (seat) => async dispatch => {\n     await axios.get(`/api/seats/${seat}`,{\"Authorisation\":authHeader})\n    .then(response=>{\n      const reservations = response.data;\n      dispatch({\n      type:SET_TODAY_RESERVATION ,\n      payload: reservations \n      })\n    })\n    .catch(error=>{\n      dispatch(\n        {\n          type: GET_ERRORS,\n          payload: error.response.data\n        });\n    });\n    \n  }\n"]},"metadata":{},"sourceType":"module"}