{"ast":null,"code":"var _jsxFileName = \"/home/abdel/Desktop/parking-reservation-front-react/src/components/SeatMarker.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport axios from 'axios';\nimport authHeader from \"../securityUtils/authorisationHeader\";\nimport SERVER_URL from '../securityUtils/path';\nimport { Marker, Popup, Tooltip } from 'react-leaflet';\nimport 'leaflet-fullscreen/dist/Leaflet.fullscreen.js';\nimport 'leaflet/dist/leaflet.css';\nimport Calendar from './Calendar';\nimport Status from './Status';\nimport { freeSeatIcon, nonFreeSeatIcon } from './Icon';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst useStyles = makeStyles(theme => ({\n  tooltip: {\n    borderRadius: 10,\n    backgroundOrigin: 'border-box',\n    backgroundClip: 'content-box, border-box',\n    backgroundSize: 'cover',\n    boxShadow: ' 0 0 5px 5px rgb(0, 94, 255)'\n  },\n  paper: {\n    marginTop: 10,\n    padding: 10,\n    display: 'block'\n  }\n}));\nexport default function SeatMarker(seat) {\n  _s();\n\n  const [nbBookedSeats, setNbBookedSeats] = useState(0);\n  const classes = useStyles();\n  useEffect(async () => {\n    await axios.get(`${SERVER_URL}/api/seats/${seat.id}`, {\n      \"Authorisation\": authHeader\n    }).then(response => {\n      const reservations = response.data;\n      setNbBookedSeats(reservations.length);\n      console.log(reservations.length);\n    }).catch(error => {//console.log(error);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Marker, {\n    position: [seat.coordinates[1], seat.coordinates[0]],\n    icon: nbBookedSeats === 4 ? noFreeSeatIcon : freeSeatIcon,\n    children: [/*#__PURE__*/_jsxDEV(Popup, {\n      style: {\n        height: \"400px\"\n      },\n      children: /*#__PURE__*/_jsxDEV(Calendar, {\n        seat: seat.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 50,\n        columnNumber: 17\n      }, this)\n    }, seat.coordinates[1], false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 13\n    }, this), /*#__PURE__*/_jsxDEV(Tooltip, {\n      className: classes.tooltip,\n      children: /*#__PURE__*/_jsxDEV(Status, {\n        seat: seat.id\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 53,\n        columnNumber: 17\n      }, this)\n    }, seat.coordinates[0], false, {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 13\n    }, this)]\n  }, seat.id, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n}\n\n_s(SeatMarker, \"6mw0EmJTxV/IX31HV+AHZgSUwks=\", false, function () {\n  return [useStyles];\n});\n\n_c = SeatMarker;\n\nvar _c;\n\n$RefreshReg$(_c, \"SeatMarker\");","map":{"version":3,"sources":["/home/abdel/Desktop/parking-reservation-front-react/src/components/SeatMarker.js"],"names":["React","useEffect","useState","axios","authHeader","SERVER_URL","Marker","Popup","Tooltip","Calendar","Status","freeSeatIcon","nonFreeSeatIcon","makeStyles","useStyles","theme","tooltip","borderRadius","backgroundOrigin","backgroundClip","backgroundSize","boxShadow","paper","marginTop","padding","display","SeatMarker","seat","nbBookedSeats","setNbBookedSeats","classes","get","id","then","response","reservations","data","length","console","log","catch","error","coordinates","noFreeSeatIcon","height"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AACA,OAAOC,KAAP,MAAkB,OAAlB;AACA,OAAOC,UAAP,MAAuB,sCAAvB;AACA,OAAOC,UAAP,MAAwB,uBAAxB;AACA,SAAQC,MAAR,EAAgBC,KAAhB,EAAuBC,OAAvB,QAAqC,eAArC;AACA,OAAO,+CAAP;AACA,OAAO,0BAAP;AACA,OAAOC,QAAP,MAAqB,YAArB;AACA,OAAOC,MAAP,MAAmB,UAAnB;AACA,SAASC,YAAT,EAAsBC,eAAtB,QAA4C,QAA5C;AACA,SAASC,UAAT,QAA2B,0BAA3B;;AAEA,MAAMC,SAAS,GAAGD,UAAU,CAAEE,KAAD,KAAY;AACrCC,EAAAA,OAAO,EAAE;AACLC,IAAAA,YAAY,EAAE,EADT;AAELC,IAAAA,gBAAgB,EAAE,YAFb;AAGLC,IAAAA,cAAc,EAAE,yBAHX;AAILC,IAAAA,cAAc,EAAE,OAJX;AAKLC,IAAAA,SAAS,EAAE;AALN,GAD4B;AASrCC,EAAAA,KAAK,EAAC;AACFC,IAAAA,SAAS,EAAE,EADT;AAEFC,IAAAA,OAAO,EAAC,EAFN;AAGFC,IAAAA,OAAO,EAAE;AAHP;AAT+B,CAAZ,CAAD,CAA5B;AAgBA,eAAe,SAASC,UAAT,CAAoBC,IAApB,EAAyB;AAAA;;AACpC,QAAM,CAACC,aAAD,EAAeC,gBAAf,IAAiC3B,QAAQ,CAAC,CAAD,CAA/C;AACA,QAAM4B,OAAO,GAAChB,SAAS,EAAvB;AACAb,EAAAA,SAAS,CAAC,YAAU;AACZ,UAAME,KAAK,CAAC4B,GAAN,CAAW,GAAE1B,UAAW,cAAasB,IAAI,CAACK,EAAG,EAA7C,EAA+C;AAAC,uBAAgB5B;AAAjB,KAA/C,EACL6B,IADK,CACAC,QAAQ,IAAE;AACZ,YAAMC,YAAY,GAAGD,QAAQ,CAACE,IAA9B;AACAP,MAAAA,gBAAgB,CAACM,YAAY,CAACE,MAAd,CAAhB;AACAC,MAAAA,OAAO,CAACC,GAAR,CAAYJ,YAAY,CAACE,MAAzB;AACH,KALK,EAMLG,KANK,CAMCC,KAAK,IAAE,CACV;AACH,KARK,CAAN;AASP,GAVQ,EAUP,EAVO,CAAT;AAWA,sBACI,QAAC,MAAD;AACI,IAAA,QAAQ,EAAE,CAACd,IAAI,CAACe,WAAL,CAAiB,CAAjB,CAAD,EAAsBf,IAAI,CAACe,WAAL,CAAiB,CAAjB,CAAtB,CADd;AAEI,IAAA,IAAI,EAAEd,aAAa,KAAG,CAAhB,GAAkBe,cAAlB,GAAiChC,YAF3C;AAAA,4BAKI,QAAC,KAAD;AAAO,MAAA,KAAK,EAAE;AAAEiC,QAAAA,MAAM,EAAE;AAAV,OAAd;AAAA,6BACI,QAAC,QAAD;AAAU,QAAA,IAAI,EAAEjB,IAAI,CAACK;AAArB;AAAA;AAAA;AAAA;AAAA;AADJ,OAAwCL,IAAI,CAACe,WAAL,CAAiB,CAAjB,CAAxC;AAAA;AAAA;AAAA;AAAA,YALJ,eAQI,QAAC,OAAD;AAAS,MAAA,SAAS,EAAEZ,OAAO,CAACd,OAA5B;AAAA,6BACI,QAAC,MAAD;AAAQ,QAAA,IAAI,EAAEW,IAAI,CAACK;AAAnB;AAAA;AAAA;AAAA;AAAA;AADJ,OAA0CL,IAAI,CAACe,WAAL,CAAiB,CAAjB,CAA1C;AAAA;AAAA;AAAA;AAAA,YARJ;AAAA,KAGSf,IAAI,CAACK,EAHd;AAAA;AAAA;AAAA;AAAA,UADJ;AAeH;;GA7BuBN,U;UAENZ,S;;;KAFMY,U","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport axios from 'axios';\nimport authHeader from \"../securityUtils/authorisationHeader\"\nimport SERVER_URL from  '../securityUtils/path';\nimport {Marker, Popup, Tooltip} from 'react-leaflet';\nimport 'leaflet-fullscreen/dist/Leaflet.fullscreen.js'\nimport 'leaflet/dist/leaflet.css'\nimport Calendar from './Calendar';\nimport Status from './Status';\nimport { freeSeatIcon,nonFreeSeatIcon} from './Icon'\nimport { makeStyles } from '@material-ui/core/styles';\n\nconst useStyles = makeStyles((theme) => ({\n    tooltip: {\n        borderRadius: 10,\n        backgroundOrigin: 'border-box',\n        backgroundClip: 'content-box, border-box',\n        backgroundSize: 'cover',\n        boxShadow: ' 0 0 5px 5px rgb(0, 94, 255)',\n\n    },\n    paper:{\n        marginTop: 10, \n        padding:10,\n        display: 'block'\n    }\n\n}));\nexport default function SeatMarker(seat){\n    const [nbBookedSeats,setNbBookedSeats]=useState(0);\n    const classes=useStyles();\n    useEffect(async ()=>{\n            await axios.get(`${SERVER_URL}/api/seats/${seat.id}`,{\"Authorisation\":authHeader})\n            .then(response=>{\n                const reservations = response.data;\n                setNbBookedSeats(reservations.length);\n                console.log(reservations.length);\n            })\n            .catch(error=>{\n                //console.log(error);\n            });\n    },[]);\n    return(\n        <Marker\n            position={[seat.coordinates[1], seat.coordinates[0]]}\n            icon={nbBookedSeats===4?noFreeSeatIcon:freeSeatIcon}\n            key={seat.id}\n        >\n            <Popup style={{ height: \"400px\" }} key={seat.coordinates[1]}>\n                <Calendar seat={seat.id} />\n            </Popup>\n            <Tooltip className={classes.tooltip} key={seat.coordinates[0]}>\n                <Status seat={seat.id} />\n            </Tooltip>\n\n         </Marker>\n    )\n}\n"]},"metadata":{},"sourceType":"module"}