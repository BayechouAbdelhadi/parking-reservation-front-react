{"ast":null,"code":"var _jsxFileName = \"/home/abdel/Desktop/parking-reservation-front-react/src/components/ParkingCalendar.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport Calendar from 'react-calendar';\nimport IconButton from '@material-ui/core/IconButton';\nimport { AiFillBackward as ArrowBackIcon } from \"react-icons/ai\";\nimport { GiConfirmed as DoneOutlineIcon } from \"react-icons/gi\";\nimport { AiFillWarning as GiInterdiction } from \"react-icons/ai\";\nimport 'react-calendar/dist/Calendar.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { isWithinInterval } from \"date-fns\";\nimport { useStore } from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport { saveParkingReservation } from \"../actions/parkingReservationActions\";\nimport axios from 'axios';\nimport authHeader from \"../securityUtils/authorisationHeader\";\nimport SERVER_URL from '../securityUtils/path';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction isWithinRange(date, range) {\n  return isWithinInterval(date, {\n    start: range[0],\n    end: range[1]\n  });\n}\n\nfunction isWithinRanges(date, ranges) {\n  return ranges.some(range => isWithinRange(date, range));\n}\n\nfunction rangeIntersection(selectedrange, disabledRange) {\n  return selectedrange[0] < disabledRange[0] && selectedrange[1] > disabledRange[1];\n}\n\nconst useStyles = makeStyles(theme => ({\n  root: {\n    fontSize: 20,\n    fontWeight: 'bold',\n    color: 'red'\n  },\n  backButton: {\n    marginRight: 210\n  }\n}));\n/*const disabledRanges = [\n    [\n        new Date(2021,2,19),\n        new Date(2021,2,25),\n    ],\n    [\n        new Date(2021,3,19),\n        new Date(2021,3,25),\n    ],\n];*/\n\nconst ParkingCalendar = ({\n  park\n}) => {\n  _s();\n\n  const classes = useStyles();\n  const store = useStore();\n  const history = useHistory();\n  const [dateValue, setDateValue] = useState([]);\n  const [datesSelected, setDatesSelected] = useState(false);\n  const [reservations, setResevations] = useState([]);\n  const [disabledRanges, setDisabledRanges] = useState([]);\n  const [errorRange, setErrorRange] = useState(false);\n\n  function back() {\n    setDatesSelected(false);\n  }\n\n  function tileDisabled({\n    date,\n    view\n  }) {\n    if (view === 'month') {\n      return isWithinRanges(date, disabledRanges);\n    }\n  }\n\n  function dateSelected(e) {\n    const selectedRane = [new Date(e[0]), new Date(e[1])];\n    if (disabledRanges.some(range => rangeIntersection(selectedRane, range))) setErrorRange(true);else {\n      setDateValue(selectedRane);\n      setDatesSelected(true);\n    }\n  }\n\n  function book() {\n    const parkReservation = {\n      park: park,\n      start_reservation: formatDate(dateValue[0]),\n      end_reservation: formatDate(dateValue[1])\n    };\n    store.dispatch(saveParkingReservation(parkReservation, history));\n  }\n\n  useEffect(async () => {\n    await axios.get(`${SERVER_URL}/api/parking/${park}`, {\n      \"Authorisation\": authHeader\n    }).then(response => {\n      setResevations(response.data);\n      console.log(response.data);\n      const ranges = response.data.map(res => {\n        const range = [new Date(res.startDate), new Date(res.endDate)];\n        return range;\n      });\n      setDisabledRanges(ranges);\n    }).catch(error => {\n      console.log(error);\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: datesSelected ? /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        className: classes.root,\n        children: \"Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 109,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"You have choosen to book\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 110,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: showDatesRange(dateValue)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 21\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          display: \"flex\",\n          justifyContent: \"space-between\",\n          marginTop: 15\n        },\n        children: [/*#__PURE__*/_jsxDEV(IconButton, {\n          onClick: back,\n          variant: \"contained\",\n          color: \"primary\",\n          disableElevation: true,\n          children: /*#__PURE__*/_jsxDEV(ArrowBackIcon, {\n            color: \"red\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 120,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 114,\n          columnNumber: 21\n        }, this), /*#__PURE__*/_jsxDEV(IconButton //onClick={book}\n        , {\n          variant: \"contained\",\n          color: \"primary\",\n          disableElevation: true,\n          children: /*#__PURE__*/_jsxDEV(DoneOutlineIcon, {\n            color: \"green\",\n            onClick: book\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 128,\n            columnNumber: 25\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 122,\n          columnNumber: 21\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 112,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 17\n    }, this) : /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(Calendar, {\n        onChange: dateSelected,\n        tileDisabled: tileDisabled,\n        minDate: new Date(Date.now()) //value={dateValue}\n        ,\n        view: \"month\",\n        selectRange: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 21\n      }, this), errorRange && /*#__PURE__*/_jsxDEV(\"div\", {\n        style: {\n          color: \"red\",\n          fontSize: 16,\n          fontWeight: 'bold',\n          dmarginTop: 20,\n          display: \"flex\",\n          justifyContent: \"center\",\n          marginTop: 15\n        },\n        children: [\"Impossible!\", /*#__PURE__*/_jsxDEV(GiInterdiction, {\n          color: \"red\",\n          onClick: book,\n          variant: \"contained\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 144,\n          columnNumber: 36\n        }, this), \"  pick another date\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 143,\n        columnNumber: 21\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 17\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 105,\n    columnNumber: 9\n  }, this);\n};\n\n_s(ParkingCalendar, \"jLzIS04Mcx/T85P+umvnBrEO2r0=\", false, function () {\n  return [useStyles, useStore, useHistory];\n});\n\n_c = ParkingCalendar;\nexport default ParkingCalendar;\n\nfunction showDatesRange(dates) {\n  return `from ${dates[0].getDate()}-${dates[0].getMonth() + 1}-${dates[0].getFullYear()} to \n     ${dates[1].getDate()}-${dates[1].getMonth() + 1}-${dates[1].getFullYear()}\n    `;\n}\n\nfunction formatDate(dateValue) {\n  return `${dateValue.getFullYear()}-${dateValue.getMonth() + 1}-${dateValue.getDate()}`;\n}\n\nvar _c;\n\n$RefreshReg$(_c, \"ParkingCalendar\");","map":{"version":3,"sources":["/home/abdel/Desktop/parking-reservation-front-react/src/components/ParkingCalendar.js"],"names":["React","useEffect","useState","Calendar","IconButton","AiFillBackward","ArrowBackIcon","GiConfirmed","DoneOutlineIcon","AiFillWarning","GiInterdiction","makeStyles","isWithinInterval","useStore","useHistory","saveParkingReservation","axios","authHeader","SERVER_URL","isWithinRange","date","range","start","end","isWithinRanges","ranges","some","rangeIntersection","selectedrange","disabledRange","useStyles","theme","root","fontSize","fontWeight","color","backButton","marginRight","ParkingCalendar","park","classes","store","history","dateValue","setDateValue","datesSelected","setDatesSelected","reservations","setResevations","disabledRanges","setDisabledRanges","errorRange","setErrorRange","back","tileDisabled","view","dateSelected","e","selectedRane","Date","book","parkReservation","start_reservation","formatDate","end_reservation","dispatch","get","then","response","data","console","log","map","res","startDate","endDate","catch","error","showDatesRange","display","justifyContent","marginTop","now","dmarginTop","dates","getDate","getMonth","getFullYear"],"mappings":"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","sourcesContent":["import React , { useEffect, useState} from \"react\";\nimport Calendar from 'react-calendar';\nimport IconButton from '@material-ui/core/IconButton';\nimport { AiFillBackward as ArrowBackIcon} from \"react-icons/ai\";\nimport { GiConfirmed as DoneOutlineIcon} from \"react-icons/gi\";\nimport {AiFillWarning as GiInterdiction } from \"react-icons/ai\";\nimport 'react-calendar/dist/Calendar.css';\nimport { makeStyles } from '@material-ui/core/styles';\nimport { isWithinInterval } from \"date-fns\";\nimport {useStore} from \"react-redux\";\nimport { useHistory } from \"react-router-dom\";\nimport  {saveParkingReservation }from \"../actions/parkingReservationActions\";\nimport axios from 'axios';\nimport authHeader from \"../securityUtils/authorisationHeader\"\nimport SERVER_URL from  '../securityUtils/path';\n\n\nfunction isWithinRange(date, range) {\n    return isWithinInterval(date, { start: range[0], end: range[1] });\n}\nfunction isWithinRanges(date, ranges) {\n    return ranges.some(range => isWithinRange(date, range));\n}\nfunction rangeIntersection(selectedrange,disabledRange){\n    return selectedrange[0]< disabledRange[0] && selectedrange[1]>disabledRange[1] ;  \n}\nconst useStyles = makeStyles((theme) => ({\n    root: {\n      fontSize: 20,\n      fontWeight: 'bold',\n      color:'red',\n    },\n    backButton:{\n      marginRight:210\n    }\n  }));\n\n/*const disabledRanges = [\n    [\n        new Date(2021,2,19),\n        new Date(2021,2,25),\n    ],\n    [\n        new Date(2021,3,19),\n        new Date(2021,3,25),\n    ],\n];*/\nconst  ParkingCalendar=({park})=>{\n    const classes=useStyles();\n    const store=useStore();\n    const history=useHistory();\n    const [dateValue, setDateValue] = useState([]);\n    const [datesSelected,setDatesSelected]=useState(false);\n    const [reservations,setResevations]=useState([]);\n    const [disabledRanges,setDisabledRanges]=useState([]);\n    const [errorRange,setErrorRange]=useState(false);\n\n    function back(){\n        setDatesSelected(false);\n    }\n\n    function tileDisabled({ date, view }) {\n        if (view === 'month') {\n          return isWithinRanges(date, disabledRanges);\n        }\n    }\n\n    function dateSelected(e){\n        const selectedRane=[new Date(e[0]),new Date(e[1])];\n        if(disabledRanges.some((range=>rangeIntersection(selectedRane,range))))\n            setErrorRange(true);\n        else\n        {\n            setDateValue(selectedRane);\n            setDatesSelected(true);\n        }\n    }\n\n    function book(){\n        const parkReservation ={\n            park:park,\n            start_reservation:formatDate(dateValue[0]),\n            end_reservation:formatDate(dateValue[1])\n        }\n        store.dispatch(saveParkingReservation(parkReservation, history));\n    }\n\n    useEffect(async ()=>{\n        await axios.get(`${SERVER_URL}/api/parking/${park}`,{\"Authorisation\":authHeader})\n        .then(response=>{\n            setResevations(response.data);\n            console.log(response.data);\n            const ranges= response.data.map(res=>{\n                const range=[new Date(res.startDate),new Date(res.endDate)];\n                return range;\n            });\n            setDisabledRanges(ranges);\n        })\n        .catch(error=>{\n            console.log(error);\n        });\n    },[]);\n\n    return(\n        <div>\n            {\n                datesSelected ? \n                <div>\n                    <p className={classes.root}>Details</p>\n                    <h3>You have choosen to book</h3>\n                    <h3>{showDatesRange(dateValue)}</h3>\n                    <div style={{display:\"flex\",justifyContent:\"space-between\",marginTop:15}}>\n                     \n                    <IconButton \n                        onClick={back}\n                        variant=\"contained\" \n                        color=\"primary\" \n                        disableElevation \n                        >\n                        <ArrowBackIcon  color=\"red\"/> \n                    </IconButton> \n                    <IconButton \n                        //onClick={book}\n                        variant=\"contained\" \n                        color=\"primary\" \n                        disableElevation \n                        >\n                        <DoneOutlineIcon color=\"green\"  onClick={book}/>\n                    </IconButton>\n                   </div>\n                </div>:\n                <div>\n                    <Calendar\n                        onChange={dateSelected}\n                        tileDisabled={tileDisabled}\n                        minDate={new Date((Date.now()))}\n                        //value={dateValue}\n                        view=\"month\"\n                        selectRange\n                    >   \n                    </Calendar>\n                    {errorRange && \n                    <div  style={{color:\"red\",fontSize:16,fontWeight:'bold',dmarginTop:20,display:\"flex\",justifyContent:\"center\",marginTop:15}}>\n                        Impossible!<GiInterdiction color=\"red\"  onClick={book} variant=\"contained\"/>  pick another date\n                    </div>\n                    }\n                </div>\n\n            }\n\n        </div>\n    )\n}\nexport default ParkingCalendar;\n\nfunction showDatesRange(dates){\n    return `from ${dates[0].getDate()}-${dates[0].getMonth()+1}-${dates[0].getFullYear()} to \n     ${dates[1].getDate()}-${dates[1].getMonth()+1}-${dates[1].getFullYear()}\n    `\n}\nfunction formatDate(dateValue){\n    return `${dateValue.getFullYear()}-${dateValue.getMonth()+1}-${dateValue.getDate()}`\n}\n\n"]},"metadata":{},"sourceType":"module"}